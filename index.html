<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suggestion Board (Pontes)</title>
    
    <link rel="stylesheet" href="stilus.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
    import { 
        getAuth, 
        signInWithEmailAndPassword, 
        createUserWithEmailAndPassword, 
        onAuthStateChanged, 
        updateProfile, 
        signOut 
    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    
    // Novas importações do Firestore
    import { 
        getFirestore, 
        collection, 
        addDoc, 
        updateDoc, 
        doc, 
        onSnapshot, 
        query, 
        orderBy 
    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
        // MANTENHA SUAS CHAVES ORIGINAIS AQUI (NÃO MUDE ISSO)
        apiKey: "AIzaSyD4mGdpoBaPX8he1gZ17nYX-0W3D_FPXdA",
        authDomain: "pontes-4443d.firebaseapp.com",
        projectId: "pontes-4443d",
        storageBucket: "pontes-4443d.firebasestorage.app",
        messagingSenderId: "1007593280249",
        appId: "1:1007593280249:web:e85f11755717125ab78828",
        measurementId: "G-05M2ME9DK6"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const db = getFirestore(app); // Inicializa o banco

    // Expõe para o React usar
    window.Firebase = {
        auth,
        db, // Banco de dados
        signInWithEmailAndPassword,
        createUserWithEmailAndPassword,
        onAuthStateChanged,
        updateProfile,
        signOut,
        // Funções do Firestore
        collection,
        addDoc,
        updateDoc,
        doc,
        onSnapshot,
        query,
        orderBy
    };
    
    // Dispara evento avisando que carregou
    window.dispatchEvent(new Event('firebase-ready'));
</script>
</head>
<body class="bg-[#1e1e1e]">
    <div id="root"></div>
    <script type="text/babel" src="script.js"></script>
</body>
</html>